{"mappings":"YAAO,IAAMA,EAAO,CAChBC,OAASC,SAASC,cAAc,iBAChCC,QAAUF,SAASC,cAAc,aACjCE,OAASH,SAASC,cAAc,WAChCG,MAAQJ,SAASC,cAAc,WCD5B,SAASI,IAChBP,EAAKK,OAAOG,MAAMC,QAAU,M,CAGrB,SAASC,IACZV,EAAKK,OAAOG,MAAMC,QAAU,O,CAIzB,SAASE,IACZX,EAAKC,OAAOO,MAAMC,QAAU,M,CASzB,SAASG,IACZZ,EAAKM,MAAME,MAAMC,QAAU,M,CAGxB,SAASI,IACZb,EAAKM,MAAME,MAAMC,QAAU,O,CCaxB,SAASK,EAAgBC,GAC5BL,IACAE,IACAZ,EAAKI,QAAQY,UAAY,GAEzBC,YAAW,WAEXC,MAAM,yDAA4EC,OAAnBJ,EAAQ,aAAeI,OApC9E,0EAqCPC,MAAK,SAAAC,GACF,OAAOA,EAASC,M,IAEnBF,MAAK,SAAAG,GC7CF,IAAuBC,EAAKC,EAC1BC,ED4CaC,QAAQC,IAAIL,GC7CCE,ED8CLzB,EAAKI,QC7C1BsB,EAAW,wCAC+BP,QAFrBK,ED8CTD,GC5Cc,GAAGM,IAAI,WAC9BV,OADuCK,EAAI,GAAGM,OAAO,GAAGC,UAAU,mBAElEZ,OADAK,EAAI,GAAGM,OAAO,GAAGE,KAAK,qBAEtBb,OADAK,EAAI,GAAGM,OAAO,GAAGG,YAAY,qBACAd,OAA7BK,EAAI,GAAGM,OAAO,GAAGI,YAAY,sBAGxCT,EAAaT,UAAYU,C,IDwCtBS,OAAM,SAAA7B,GACHqB,QAAQC,IAAItB,GACZO,G,IAEFN,G,GAEC,I,CEzDPP,EAAKC,OAAOmC,iBAAiB,UAK7B,SAAwBC,GACpBtB,QAAUsB,EAAMC,OAAOC,MACvBzB,EAAgBC,Q,IFMhBJ,IACAD,IACAE,IAEAK,YAAW,WAEXC,MAAM,uCACLE,MAAK,SAAAC,GACF,OAAOA,EAASC,M,IAEnBF,MAAK,SAAAU,G,OCzByBL,EDyBMzB,EAAKC,OCxBpCyB,EDwBwBI,ECxBXU,KAAI,SAAAC,G,MAAM,iBAA0BtB,OAATsB,EAAGC,GAAG,KAAWvB,OAARsB,EAAGT,KAAK,Y,IAAYW,KAAK,SAChFlB,EAAaT,UAAYU,GAFtB,IAA4BD,EACzBC,C,IDyBLS,OAAM,SAAA7B,GACDqB,QAAQC,IAAItB,GACZO,IACAF,G,IDbNX,EAAKC,OAAOO,MAAMC,QAAU,QCiBxBF,G,GAED,I","sources":["src/refs.js","src/helpers.js","src/cat-api.js","src/render_option.js","src/index.js"],"sourcesContent":["export const refs = {\n    select : document.querySelector(\".breed-select\"),\n    catInfo : document.querySelector(\".cat-info\"),\n    loader : document.querySelector(\".loader\"),\n    error : document.querySelector(\".error\")\n}","import { refs } from \"./refs\";\n\n//! функция скрывает загрущик\nexport function displayNone (){\nrefs.loader.style.display = \"none\";\n   }\n//? функция показывает загрущик\nexport function displayShow (){\n    refs.loader.style.display = \"block\";\n    }\n\n//! функция скрывает селект\nexport function displayNoneSelect (){\n    refs.select.style.display = \"none\";\n    }\n//? функция показывает селект\nexport function displayShowSelect (){\n    refs.select.style.display = \"block\";\n    }\n\n\n//! функция скрывает error\nexport function displayNoneError (){\n    refs.error.style.display = \"none\";\n    }\n//? функция показывает error\nexport function displayShowError (){\n    refs.error.style.display = \"block\";\n    }","import {renderOptions, renderCatCard} from \"./render_option\";\nimport { refs } from \"./refs\";\nimport {\n    displayShow, \n    displayNone, \n    displayNoneSelect,\n    displayShowSelect,\n    displayShowError,\n    displayNoneError } from \"./helpers\";\n\n\nconst KEY = \"live_QwxIJNU3VtCwzTnsw0wWFLJgnT53KZYtpKzx4Fdm53ZhxhA8kBUxgYGJjrm68GKS\"\n\n// ? запрос на получение имен для селекта\nexport function fetchBreeds(){\n\n    displayNoneSelect(),\n    displayShow()\n    displayNoneError()\n\n    setTimeout(() => {\n\n    fetch(\"https://api.thecatapi.com/v1/breeds\")\n    .then(response => { \n        return response.json();\n    })\n    .then(breeds => renderOptions(breeds,refs.select))\n    .catch(error => {\n          console.log(error);\n          displayShowError()\n          displayNoneSelect()   \n        })\n\n        displayShowSelect()\n        displayNone()\n\n    }, 2000); \n}\n\n// ? рендер информации после запроса\nexport function fetchCatByBreed(breedId){\n    displayShow()\n    displayNoneError()\n    refs.catInfo.innerHTML = \"\";\n\n    setTimeout(() => {\n\n    fetch(`https://api.thecatapi.com/v1/images/search?&breed_ids=${breedId}&api_key=${KEY}`)\n    .then(response => { \n        return response.json();\n    })\n    .then(catCard => { console.log(catCard);\n        renderCatCard(catCard, refs.catInfo)\n    })\n    .catch(error => {\n        console.log(error);\n        displayShowError()   \n      }) \n      displayNone()\n\n    }, 2000);\n   \n}","\nexport function renderOptions(arr, rootSelector ) {\n    const markup = arr.map(el => `<option value=${el.id}>${el.name}</option>`).join(\"\");\n    rootSelector.innerHTML = markup\n}\n\n export function renderCatCard(arr, rootSelector ) {\n    const markup = ( `<div>\n        <img width=\"654\" src=\"${arr[0].url}\" alt=\"${arr[0].breeds[0].alt_names}\">\n        <p>${arr[0].breeds[0].name}</p>\n        <p>${arr[0].breeds[0].description}</p>\n        <p>${arr[0].breeds[0].temperament}</p>\n      </div>`)\n        \n  rootSelector.innerHTML = markup\n}\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nimport { refs } from \"./refs\";\n\nrefs.select.addEventListener('change', onSelectChange )\n// получаем и рендерим селект\nfetchBreeds() \n\n // обрабатываем клик, рендерим информацию \nfunction onSelectChange(event) {\n    breedId = event.target.value;\n    fetchCatByBreed(breedId);\n}\n"],"names":["$b35ad1aac71df356$export$21666b427502ea6d","select","document","querySelector","catInfo","loader","error","$9c0db15948fdb757$export$f2bfb39d1c69395f","style","display","$9c0db15948fdb757$export$d9b78d6368898a66","$9c0db15948fdb757$export$b4c07beae7622de7","$9c0db15948fdb757$export$d2e58cab22643822","$9c0db15948fdb757$export$1b1be0d12f63011a","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","innerHTML","setTimeout","fetch","concat","then","response","json","catCard","arr","rootSelector","markup","console","log","url","breeds","alt_names","name","description","temperament","catch","addEventListener","event","target","value","map","el","id","join"],"version":3,"file":"index.8c59ba18.js.map"}